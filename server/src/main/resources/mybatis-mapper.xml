<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="clickcloud.server.mybatis.MybatisMapper">
  <select id="getAllWeather" resultType="List">
    SELECT city_name, w_title, pos_x, pos_y FROM weather JOIN cities USING (city_id)
  </select>
  <select id="searchName" parameterType="String" resultType="DetailedWeather">
    SELECT city_name, country_name, w_title, w_description, temp_now, temp_feels, temp_min, temp_max, pressure, humidity, wind_speed, wind_deg, rain_1h, snow_1h, cloud, sunrise, sunset, time_update, timezone FROM weather JOIN cities USING (city_id) JOIN countries USING (country_id) WHERE city_name = #{city_name}
  </select>
</mapper>